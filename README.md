# Machine Learning-Based Cyberdefenses Competition

## <a name='build-the-sample-solution'></a>Build the sample solution
Before you proceed, you must [install Docker Engine](https://docs.docker.com/engine/install/) for your operating system.

A sample solution that you may modify is included in the `models` folder. (See the [FAQ](FAQ.md#the-example-solution) for an overview of the example solution.) 

Install Python requirements needed to test the solution:
```
pip install -r requirements.txt
```

From the `root` folder that contains the `Dockerfile`, build the solution:
```
docker build -t ml .
```

Run the docker container:
```
docker run -itp 8080:8080 --memory="1g" ml
```
The flag `-p 8080:8080` maps the container's port 8080 to the host's port 8080.

The flag `--memory="1g"` limits the container with 1GB of RAM.

Test the solution on malicious and benign samples of your choosing via:
```
python -m test -m data/DikeDataset-main/files/malware -b data/DikeDataset-main/files/malware
```
You can also use the system folder `C:\Windows\System32\` as benign samples.

Sample collections may be in a folder, or in an archive of type `zip`, `tar`, `tar.bz2`, `tar.gz` or `tgz`.  

**It is not required to unzip and strongly recommended that you do not unzip the archive to test malicious samples.** 


## <a name='requirements'></a>Requirements

Minimum scores
- FPR 1%
- TPR 95%

Constraints
- 1GB of RAM
- Response time 5 seconds per sample

A valid submission for the defense track consists of the following
1. a Docker image
2. listens on port 8080
3. accepts `POST /` with header `Content-Type: application/octet-stream` and the contents of a PE file in the body
4. returns `{"result": 0}` for benign files and `{"result": 1}` for malicious files 
5. for files up to 10**21 bytes (10 MiB), must respond in less than 5 seconds (a timeout results in a benign verdict)
